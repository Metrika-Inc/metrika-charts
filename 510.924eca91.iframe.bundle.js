"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[510],{"../metrika-charts/build/_shared/format/formatting.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{T3:function(){return formatPercent},vg:function(){return formattersForTypes},wO:function(){return formatForRange}});var _metrika_elastic_charts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@metrika+elastic-charts@31.7.5_7qghoc6adnbztkoniq3d7qcho4/node_modules/@metrika/elastic-charts/dist/_es6/index.js"),d3_format__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/defaultLocale.js");const DAY_FORMATTER=datetime=>(0,_metrika_elastic_charts__WEBPACK_IMPORTED_MODULE_0__.g6)("DD MMM HH:mm")(datetime),MONTH_FORMATTER=(0,_metrika_elastic_charts__WEBPACK_IMPORTED_MODULE_0__.g6)("MMM'YY"),formatForRange=range=>range<7776e6?DAY_FORMATTER:date=>MONTH_FORMATTER(date).toUpperCase(),bigValueFormatter=v=>{const s=["K","M","B"];for(let i=s.length-1;i>=0;i--)if(Math.abs(v)>=Math.pow(1e3,i+1))return(v/Math.pow(1e3,i+1)).toFixed(2)+s[i];return v+""},pipe=(...fns)=>arg=>fns.reduce(((acc,fn)=>fn?fn(acc):acc),arg),microAlgoToAlgo=uAlgo=>uAlgo/1e6,formatTwoDecimalPlaces=value=>value.toLocaleString("en-US",{maximumFractionDigits:2}),formatPercent=value=>d3_format__WEBPACK_IMPORTED_MODULE_1__.WU(".2%")(value),formattersForTypes={algo_algo:[pipe(microAlgoToAlgo,formatTwoDecimalPlaces),pipe(microAlgoToAlgo,(value=>bigValueFormatter(value)))],algo_microalgo:[formatTwoDecimalPlaces,value=>bigValueFormatter(value)],algo_address:[value=>value.slice(0,6),void 0],number:[formatTwoDecimalPlaces,bigValueFormatter],percent:[formatPercent,void 0]}},"../metrika-charts/build/_shared/useResizeObserver.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{y:function(){return useResizeObserver}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js");function useResizeObserver(){const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[size,setSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({width:0,height:0});return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!ref.current)return;const resizeObserver=new ResizeObserver((entries=>{const{width:width,height:height}=entries[0].contentRect;setSize({width:width,height:height})})),element=ref.current;return resizeObserver.observe(element),()=>{resizeObserver.unobserve(element)}}),[]),Object.assign({ref:ref},size)}},"../metrika-charts/build/charts/donut/engine/nivo/NivoDonut.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return nivo_NivoDonut}});var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"),nivo_pie_es=__webpack_require__("../../node_modules/.pnpm/@nivo+pie@0.83.0_oxfzelaz5ynxsop2v2nu2h2m64/node_modules/@nivo/pie/dist/nivo-pie.es.js"),react=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),context=__webpack_require__("../metrika-charts/build/_shared/theme/context.js"),formatting=__webpack_require__("../metrika-charts/build/_shared/format/formatting.js"),useResizeObserver=__webpack_require__("../metrika-charts/build/_shared/useResizeObserver.js");var nivo_NivoDonut=({data:data,format:format})=>{const theme=(0,context.Fg)(),{ref:divRef,width:width,height:height}=(0,useResizeObserver.y)(),currentData=(0,react.useMemo)((()=>{const colorObj=theme.isDark&&format.colorsDark||format.colors;return format.layers.length>0?data.map((d=>({color:colorObj?colorObj[d[format.layers[0].sliceKey]]:void 0,value:Number(d[format.layers[0].valueKey]),id:String(d[format.layers[0].sliceKey]),label:format.labels&&format.labels[d[format.layers[0].sliceKey]]?format.labels[d[format.layers[0].sliceKey]]:String(d[format.layers[0].sliceKey])}))):[]}),[data,format,theme.isDark]),PieElement="svg"===format.renderer?nivo_pie_es.Y2:nivo_pie_es.ni,currentTheme=(0,react.useMemo)((()=>function getNivoTheme(metrikaTheme,format){return{background:"transparent",textColor:"#333333",axis:{domain:{line:{stroke:"#777777",strokeWidth:1}},legend:{text:{fontFamily:metrikaTheme.base.fontFamily,fontSize:12,fill:"#333333",outlineWidth:0,outlineColor:"transparent"}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontFamily:metrikaTheme.base.fontFamily,fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent"}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{title:{text:{fontFamily:metrikaTheme.base.fontFamily,fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent"}},text:{fontFamily:metrikaTheme.base.fontFamily,fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent"},ticks:{line:{},text:{fontFamily:metrikaTheme.base.fontFamily,fontSize:10,fill:"#333333",outlineWidth:0,outlineColor:"transparent"}}},annotations:{text:{fontFamily:metrikaTheme.base.fontFamily,fontSize:13,fill:"#333333",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{fontFamily:metrikaTheme.base.fontFamily,stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}},tooltip:{container:{background:"#ffffff",fontSize:12,fontFamily:metrikaTheme.base.fontFamily},basic:{},chip:{},table:{},tableCell:{},tableCellValue:{}}}}(theme)),[theme,format]);return(0,jsx_runtime.jsx)("div",{style:{height:"100%",width:"100%"},ref:divRef,children:width>0&&height>0?(0,jsx_runtime.jsx)(PieElement,{theme:currentTheme,valueFormat:d=>(0,formatting.T3)(Number(d)),colors:{datum:"data.color"},data:currentData,margin:{top:64,right:64,bottom:64,left:64},innerRadius:.66,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:"#333333",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:d=>`${d.label}: ${d.formattedValue}`,enableArcLabels:!1,arcLabelsSkipAngle:10,arcLabelsTextColor:{from:"color",modifiers:[["darker",2]]},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.3)",rotation:-45,lineWidth:6,spacing:10}],fill:[],legends:[{anchor:"top",direction:"row",justify:!1,translateX:0,translateY:-48,itemsSpacing:16,itemWidth:120,itemHeight:18,itemTextColor:"#333333",itemDirection:"left-to-right",itemOpacity:1,symbolSize:18,symbolShape:"square",effects:[{on:"hover",style:{itemTextColor:"#666666"}}]}]}):null})}}}]);