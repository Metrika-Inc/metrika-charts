"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[539],{"../metrika-charts/build/_shared/uniqueId.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{L:function(){return useUniqueId}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js");let uniqueIdCounter=0;function useUniqueId(prefix){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>function uniqueId(prefix){return(prefix||"metrika-chart-")+ ++uniqueIdCounter}(prefix)))[0]}},"../metrika-charts/build/charts/gauge/engine/elastic/ElasticGauge.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return elastic_ElasticGauge}});var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"),_es6=__webpack_require__("../../node_modules/.pnpm/@metrika+elastic-charts@31.7.5_7qghoc6adnbztkoniq3d7qcho4/node_modules/@metrika/elastic-charts/dist/_es6/index.js"),react=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),context=__webpack_require__("../metrika-charts/build/_shared/theme/context.js"),uniqueId=__webpack_require__("../metrika-charts/build/_shared/uniqueId.js"),defaultLocale=__webpack_require__("../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/defaultLocale.js");var elastic_ElasticGauge=({className:className,id:id,data:data,format:format})=>{const{actual:rawActual}=data,{bands:bands,base:base,ticks:rawTicks,fontFamily:fontFamily,target:target,targetFillColor:targetFillColor,actualFillColor:actualFillColor,type:rawType,typeThresholds:typeThresholds,valueUnit:valueUnit,tickColor:tickColor,tickTextColor:tickTextColor,labelsColor:labelsColor}=format,realTarget=(0,react.useMemo)((()=>"percent"===valueUnit&&void 0!==target?100*target:target),[target,valueUnit]),actual=(0,react.useMemo)((()=>"percent"===valueUnit?100*rawActual:rawActual),[rawActual,valueUnit]),ticks=(0,react.useMemo)((()=>"blue"===rawType&&void 0!==realTarget&&actual>realTarget?[0,actual/4,actual/2,3*actual/4,actual]:"percent"===valueUnit?rawTicks.map((t=>100*t)):rawTicks),[rawTicks,valueUnit,rawType,realTarget,actual]),type="dynamic"!==rawType&&"dynamic-reverse"!==rawType?rawType:Array.isArray(typeThresholds)?"dynamic-reverse"===rawType?function calculateTypeReverse(thresolds,actual){return thresolds.length>1&&actual<thresolds[1]?"error":thresolds.length>2&&actual<thresolds[2]?"warning":"ok"}(typeThresholds,rawActual):function calculateType(thresolds,actual){return thresolds.length>1&&actual<thresolds[1]?"ok":thresolds.length>2&&actual<thresolds[2]?"warning":"error"}(typeThresholds,rawActual):"ok",theme=(0,context.Fg)().chart.gauge,uId=(0,uniqueId.L)(),bandsData=(0,react.useMemo)((()=>"blue"===rawType&&void 0!==realTarget&&actual>realTarget?bands.map((({value:value})=>actual)):bands.map((({value:value})=>"percent"===valueUnit?100*value:value))),[valueUnit,bands,rawType,realTarget,actual]),bandFillColor=(0,react.useCallback)((({value:value})=>{var _a;const band=bandsData.find((bandValue=>bandValue===value));return band?(null===(_a=bands[bandsData.indexOf(band)])||void 0===_a?void 0:_a.color)||theme.types[type].bandsColor[bandsData.indexOf(band)%theme.types[type].bandsColor.length]:"transparent"}),[bandsData,theme,type,bands]),config=(0,react.useMemo)((()=>({angleStart:Math.PI,angleEnd:0,fontFamily:fontFamily||theme.fontFamily,actualFillColor:actualFillColor||theme.types[type].actualFillColor,targetFillColor:target?targetFillColor:"transparent",tickColor:tickColor,tickTextColor:tickTextColor,labelsColor:labelsColor})),[fontFamily,target,actualFillColor,targetFillColor,type,theme,tickColor,tickTextColor,labelsColor]),tickValueFormatter=(0,react.useCallback)((({value:value})=>function gaugeFormat(value,valueUnit){return"bytes"===valueUnit?`${defaultLocale.WU(".2f")(value/1024/1024)} MB`:"MB"===valueUnit?`${defaultLocale.WU(".2f")(value/1024)} GB`:"GB"===valueUnit?`${defaultLocale.WU(".2f")(value)} GB`:"Mhz"===valueUnit?`${defaultLocale.WU(".2f")(value/1024)} Ghz`:"Ghz"===valueUnit?`${defaultLocale.WU(".2f")(value)} Ghz`:"percent"===valueUnit||"percent100"===valueUnit?`${defaultLocale.WU(".2~f")(value)}%`:String(value)}(value,format.valueUnit)),[format.valueUnit]);return(0,jsx_runtime.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[(0,jsx_runtime.jsx)("div",{style:{flex:1,width:"100%",height:"100%",overflow:"hidden"},children:(0,jsx_runtime.jsx)("div",{style:{width:"100%",height:"180%"},children:(0,jsx_runtime.jsx)(_es6.kL,{className:className,children:(0,jsx_runtime.jsx)(_es6.g9,{id:id||uId,subtype:"goal",base:base,actual:actual,bands:bandsData,ticks:ticks,target:realTarget,tickValueFormatter:tickValueFormatter,bandFillColor:bandFillColor,centralMajor:tickValueFormatter({value:actual}),centralMinor:"",config:config})})})}),data.bottomLabel&&(0,jsx_runtime.jsx)("p",{style:{textAlign:"center",marginBottom:"8px",fontFamily:fontFamily||theme.fontFamily,color:tickTextColor},children:data.bottomLabel})]})}},"../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/defaultLocale.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function formatDecimalParts(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}__webpack_require__.d(__webpack_exports__,{WU:function(){return format}});var prefixExponent,re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}function FormatSpecifier(specifier){this.fill=void 0===specifier.fill?" ":specifier.fill+"",this.align=void 0===specifier.align?">":specifier.align+"",this.sign=void 0===specifier.sign?"-":specifier.sign+"",this.symbol=void 0===specifier.symbol?"":specifier.symbol+"",this.zero=!!specifier.zero,this.width=void 0===specifier.width?void 0:+specifier.width,this.comma=!!specifier.comma,this.precision=void 0===specifier.precision?void 0:+specifier.precision,this.trim=!!specifier.trim,this.type=void 0===specifier.type?"":specifier.type+""}function formatRounded(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":(x,p)=>(100*x).toFixed(p),b:x=>Math.round(x).toString(2),c:x=>x+"",d:function formatDecimal(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)},e:(x,p)=>x.toExponential(p),f:(x,p)=>x.toFixed(p),g:(x,p)=>x.toPrecision(p),o:x=>Math.round(x).toString(8),p:(x,p)=>formatRounded(100*x,p),r:formatRounded,s:function formatPrefixAuto(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(exponent/3))))+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+formatDecimalParts(x,Math.max(0,p+i-1))[0]},X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)};function identity(x){return x}var defaultLocale_locale,format,map=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function locale(locale){var group=void 0===locale.grouping||void 0===locale.thousands?identity:function formatGroup(grouping,thousands){return function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=grouping[j=(j+1)%grouping.length];return t.reverse().join(thousands)}}(map.call(locale.grouping,Number),locale.thousands+""),currencyPrefix=void 0===locale.currency?"":locale.currency[0]+"",currencySuffix=void 0===locale.currency?"":locale.currency[1]+"",decimal=void 0===locale.decimal?".":locale.decimal+"",numerals=void 0===locale.numerals?identity:function formatNumerals(numerals){return function(value){return value.replace(/[0-9]/g,(function(i){return numerals[+i]}))}}(map.call(locale.numerals,String)),percent=void 0===locale.percent?"%":locale.percent+"",minus=void 0===locale.minus?"−":locale.minus+"",nan=void 0===locale.nan?"NaN":locale.nan+"";function newFormat(specifier){var fill=(specifier=formatSpecifier(specifier)).fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):formatTypes[type]||(void 0===precision&&(precision=12),trim=!0,type="g"),(zero||"0"===fill&&"="===align)&&(zero=!0,fill="0",align="=");var prefix="$"===symbol?currencyPrefix:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currencySuffix:/[%p]/.test(type)?percent:"",formatType=formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);function format(value){var i,n,c,valuePrefix=prefix,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{var valueNegative=(value=+value)<0||1/value<0;if(value=isNaN(value)?nan:formatType(Math.abs(value),precision),trim&&(value=function formatTrim(s){out:for(var i1,n=s.length,i=1,i0=-1;i<n;++i)switch(s[i]){case".":i0=i1=i;break;case"0":0===i0&&(i0=i),i1=i;break;default:if(!+s[i])break out;i0>0&&(i0=0)}return i0>0?s.slice(0,i0)+s.slice(i1+1):s}(value)),valueNegative&&0==+value&&"+"!==sign&&(valueNegative=!1),valuePrefix=(valueNegative?"("===sign?sign:minus:"-"===sign||"("===sign?"":sign)+valuePrefix,valueSuffix=("s"===type?prefixes[8+prefixExponent/3]:"")+valueSuffix+(valueNegative&&"("===sign?")":""),maybeSuffix)for(i=-1,n=value.length;++i<n;)if(48>(c=value.charCodeAt(i))||c>57){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix,value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix}return numerals(value)}return precision=void 0===precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format.toString=function(){return specifier+""},format}return{format:newFormat,formatPrefix:function formatPrefix(specifier,value){var f=newFormat(((specifier=formatSpecifier(specifier)).type="f",specifier)),e=3*Math.max(-8,Math.min(8,Math.floor(function exponent(x){return(x=formatDecimalParts(Math.abs(x)))?x[1]:NaN}(value)/3))),k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}}}!function defaultLocale(definition){return defaultLocale_locale=locale(definition),format=defaultLocale_locale.format,defaultLocale_locale.formatPrefix,defaultLocale_locale}({thousands:",",grouping:[3],currency:["$",""]})}}]);